{
    "$schema": "./schemas/Causal-Decision-Model.json",
    "meta": {
        "uuid": "22b3dba7-5b16-4b17-959b-2340f038f1be",
        "name": "Selector Demo: Dynamic",
        "summary": "Demonstrates (experimental) dynamic selector functionality. Options available to the selector are generated based on the sliders in the Options Generator Lever. The Option Squared Outcome then uses the selected option.\n\nThis demo passes two I/O values to the center Selector. One holds the selected value, and the other is the array of available options in the selector.\n\nThis behavior is \"experimental\" because it's a bit awkward. Display parameters for the Selector are generated by running *part* of the Runnable Model. Those display parameters *then* determine what a user can provide as inputs to other parts of the Runnable Model. This method of mutating a model during the process of simulation is currently not a well-considered or heavily-tested use case.",
        "documentation": {
            "content": "",
            "MIMEType": "text/plain"
        },
        "version": "0.1",
        "draft": true,
        "createdDate": "2025-07-24T09:36:00-04:00"
    },
    "diagrams": [
        {
            "meta": {
                "uuid": "d403782a-0605-4758-be0f-d0ddcfd6e2f0",
                "name": "Generate options, then square the selected one",
                "createdDate": "2025-07-24T09:36:00-04:00"
            },
            "elements": [
                {
                    "meta": {
                        "uuid": "75763063-acef-4bac-8019-9f19008d77f0",
                        "name": "Options Generator"
                    },
                    "causalType": "Lever",
                    "position": {
                        "x": 273.5,
                        "y": 219.5
                    },
                    "displays": [
                        {
                            "meta": {
                                "uuid": "9470d532-043d-4fd6-ade9-223adac532ec",
                                "name": "Start"
                            },
                            "displayType": "controlRange",
                            "content": {
                                "controlParameters": {
                                    "min": 0,
                                    "max": 100,
                                    "step": 1,
                                    "value": 1,
                                    "isInteractive": true
                                }
                            }
                        },
                        {
                            "meta": {
                                "uuid": "b944e6c8-8ee9-4ac2-a68e-fd3571526ec8",
                                "name": "End"
                            },
                            "displayType": "controlRange",
                            "content": {
                                "controlParameters": {
                                    "min": 0,
                                    "max": 100,
                                    "step": 1,
                                    "value": 10,
                                    "isInteractive": true
                                }
                            }
                        },
                        {
                            "meta": {
                                "uuid": "c21910b2-9884-4dbf-8da6-ad2c08626ff4",
                                "name": "Number of Options"
                            },
                            "displayType": "controlRange",
                            "content": {
                                "controlParameters": {
                                    "min": 2,
                                    "max": 101,
                                    "step": 1,
                                    "value": 10,
                                    "isInteractive": true
                                }
                            }
                        }
                    ]
                },
                {
                    "meta": {
                        "uuid": "850d4c27-c567-468e-bbca-8c1352fb4755",
                        "name": "Generated Options"
                    },
                    "causalType": "Intermediate",
                    "position": {
                        "x": 675.5,
                        "y": 218.5
                    },
                    "displays": [
                        {
                            "meta": {
                                "uuid": "6a1a8e69-bc0f-4dc5-9900-8f2923994e02",
                                "name": "Options"
                            },
                            "displayType": "controlSelector",
                            "content": {
                                "controlParameters": {
                                    "options": [
                                        1
                                    ],
                                    "selectedValue": 1,
                                    "isInteractive": true
                                }
                            }
                        }
                    ]
                },
                {
                    "meta": {
                        "uuid": "52b929c4-ff3d-46c3-8c23-880e99838bd7",
                        "name": "Option Squared"
                    },
                    "causalType": "Outcome",
                    "position": {
                        "x": 1075.5,
                        "y": 218.5
                    },
                    "displays": [
                        {
                            "meta": {
                                "uuid": "8e2ded15-1fe7-4f1e-8fc3-434894999f65",
                                "name": "Option^2"
                            },
                            "displayType": "controlText",
                            "content": {
                                "controlParameters": {
                                    "value": " ",
                                    "isInteractive": false
                                }
                            }
                        }
                    ]
                }
            ],
            "dependencies": [
                {
                    "meta": {
                        "uuid": "892fbec5-6b36-4b4f-a32b-b71af573cc29",
                        "name": "Options Generator --> Generated Options"
                    },
                    "source": "75763063-acef-4bac-8019-9f19008d77f0",
                    "target": "850d4c27-c567-468e-bbca-8c1352fb4755"
                },
                {
                    "meta": {
                        "uuid": "86d4aa81-5915-48cd-8b5d-800a6442876f",
                        "name": "Generated Options --> New Diagram Element"
                    },
                    "source": "850d4c27-c567-468e-bbca-8c1352fb4755",
                    "target": "52b929c4-ff3d-46c3-8c23-880e99838bd7"
                }
            ]
        }
    ],
    "runnableModels": [
        {
            "meta": {
                "uuid": "9425bcad-36e4-4721-ac54-2f58f1ab5eb2",
                "name": "Generate Options and Square the Selected One",
                "createdDate": "2025-07-24T09:36:00-04:00"
            },
            "elements": [
                {
                    "meta": {
                        "uuid": "ae15819a-f878-476e-8e29-b1986ee7e165",
                        "name": "Generate Number Options"
                    },
                    "evaluatableAsset": "e78640d5-9967-4964-b5d9-a00f64047fcd",
                    "functionName": "generateOptions",
                    "inputs": [
                        "df4928d5-9b26-4483-b317-89f4a8e04b43",
                        "e801d4a1-0914-4f52-8ac4-7cfe4eed79f1",
                        "7f190f83-283b-42d1-86e8-779a2cb87999"
                    ],
                    "outputs": [
                        "d98bd9f7-7dd2-4bcd-92a5-162e4e691a35"
                    ]
                },
                {
                    "meta": {
                        "uuid": "9b4d6a17-183f-4ebd-9e9c-ca7b1c4c0f5e",
                        "name": "Square Selected Number"
                    },
                    "evaluatableAsset": "c42d18bf-06ae-4410-bde7-2506f4c0b3b6",
                    "functionName": "squared",
                    "inputs": [
                        "afbb6a38-ebf4-40de-b198-6a10eb763d5d"
                    ],
                    "outputs": [
                        "c472dd44-225f-4533-8ea4-aa3838a72881"
                    ]
                }
            ]
        }
    ],
    "evaluatableAssets": [
        {
            "meta": {
                "uuid": "e78640d5-9967-4964-b5d9-a00f64047fcd",
                "name": "Generate Options"
            },
            "evalType": "Script",
            "content": {
                "language": "javascript",
                "script": "KGZ1bmN0aW9uICgpIHsKCiAgICAvL0lNUExFTUVOVCBZT1VSIEZVTkNUSU9OIEFTIEEgQ09OU1QgSEVSRToKICAgIGNvbnN0IG15U2NyaXB0RnVuY3Rpb24gPSBmdW5jdGlvbiAoaW5wdXRzKSB7CiAgICAgICAgY29uc3Qgc3RhcnQgPSBOdW1iZXIoaW5wdXRzWzBdKTsKICAgICAgICBjb25zdCBlbmQgPSBOdW1iZXIoaW5wdXRzWzFdKTsKICAgICAgICBjb25zdCBudW1TdGVwcyA9IE51bWJlcihpbnB1dHNbMl0pOyAvL1RPVEFMLCBpbmNsdWRpbmcgc3RhcnQgYW5kIGVuZAoKICAgICAgICBjb25zdCBzdGVwU2l6ZSA9IChlbmQgLSBzdGFydCkgLyAobnVtU3RlcHMgLSAxKTsKCiAgICAgICAgbGV0IG91dCA9IFtdOwogICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBudW1TdGVwczsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgb3V0LnB1c2goc3RhcnQgKyAoaSAqIHN0ZXBTaXplKSk7CiAgICAgICAgfQoKICAgICAgICAKICAgICAgICByZXR1cm4gW291dF07CiAgICB9CgogICAgLy9NQVAgWU9VUiBGVU5DVElPTiBUTyBBIFNUUklORyBOQU1FIEhFUkU6CiAgICByZXR1cm4geyBmdW5jTWFwOiB7ImdlbmVyYXRlT3B0aW9ucyI6IG15U2NyaXB0RnVuY3Rpb259IH07Cgp9KSgpOwoKCi8vIFRvIGltcG9ydCBhIHNjcmlwdCwgaXQgbXVzdCB1c2UgYSBzaW1pbGFyIHN0cnVjdHVyZSB0byB0aGUgZXhhbXBsZSBjb2RlIGFib3ZlLiBJdCBzaG91bGQgdGFrZSB0aGUgZm9ybSBvZgovLyBhbiBpbW1lZGlhdGVseSBpbnZva2VkIGZ1bmN0aW9uIGV4cHJlc3Npb246IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvR2xvc3NhcnkvSUlGRSB3aGVyZSB0aGUKLy8gZnVuY3Rpb24gcmV0dXJucyBhIGZ1bmN0aW9uIG1hcCBjYWxsZWQgZnVuY01hcC4KLy8gCi8vIGZ1bmNNYXAgc2hvdWxkIGhhdmUgc3RyaW5nIGtleXMgYW5kIGZ1bmN0aW9uIHZhbHVlcy4gU3RyaW5nIGtleXMgd2lsbCBiZSB1c2VkIGJ5IEV2YWx1YXRhYmxlIEVsZW1lbnRzCi8vIHRvIHBhc3MgaW5wdXRzIHRvIGFuZCByZWNlaXZlIG91dHB1dHMgZnJvbSB0aGUgZnVuY3Rpb25zLgovLyAKLy8gRWFjaCBzY3JpcHQgbWF5IGRlZmluZSBhcmJpdHJhcmlseSBtYW55IGZ1bmN0aW9ucywgc28gbG9uZyBhcyB0aGV5J3JlIGFsbCBleHBvc2VkIHZpYSBmdW5jTWFwLgovLyAKLy8gRnVuY3Rpb24gaW5wdXRzIHdpbGwgdGFrZSB0aGUgZm9ybSBvZiBhIHNpbmdsZSBhcnJheSBvZiA8YW55PiB2YWx1ZXMuCi8vIEZ1bmN0aW9ucyBzaG91bGQgbGlrZXdpc2UgcmV0dXJuIGFuIGFycmF5IG9mIDxhbnk+IHZhbHVlcy4KLy8gTWVhbmluZyBmb3IgYXJndW1lbnRzIGFuZCByZXR1cm4gdmFsdWVzIGlzIGRldGVybWluZWQgYnkgdGhlaXIgb3JkZXIgaW4gdGhlIGFycmF5Lg=="
            }
        },
        {
            "meta": {
                "uuid": "c42d18bf-06ae-4410-bde7-2506f4c0b3b6",
                "name": "Square Input"
            },
            "evalType": "Script",
            "content": {
                "language": "javascript",
                "script": "KGZ1bmN0aW9uICgpIHsKCiAgICAvL0lNUExFTUVOVCBZT1VSIEZVTkNUSU9OIEFTIEEgQ09OU1QgSEVSRToKICAgIGNvbnN0IG15U2NyaXB0RnVuY3Rpb24gPSBmdW5jdGlvbiAoaW5wdXRzKSB7CiAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyKGlucHV0c1swXSk7CiAgICAgICAgcmV0dXJuIFtudW0gKiBudW1dOwogICAgfQoKICAgIC8vTUFQIFlPVVIgRlVOQ1RJT04gVE8gQSBTVFJJTkcgTkFNRSBIRVJFOgogICAgcmV0dXJuIHsgZnVuY01hcDogeyJzcXVhcmVkIjogbXlTY3JpcHRGdW5jdGlvbn0gfTsKCn0pKCk7CgoKLy8gVG8gaW1wb3J0IGEgc2NyaXB0LCBpdCBtdXN0IHVzZSBhIHNpbWlsYXIgc3RydWN0dXJlIHRvIHRoZSBleGFtcGxlIGNvZGUgYWJvdmUuIEl0IHNob3VsZCB0YWtlIHRoZSBmb3JtIG9mCi8vIGFuIGltbWVkaWF0ZWx5IGludm9rZWQgZnVuY3Rpb24gZXhwcmVzc2lvbjogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9HbG9zc2FyeS9JSUZFIHdoZXJlIHRoZQovLyBmdW5jdGlvbiByZXR1cm5zIGEgZnVuY3Rpb24gbWFwIGNhbGxlZCBmdW5jTWFwLgovLyAKLy8gZnVuY01hcCBzaG91bGQgaGF2ZSBzdHJpbmcga2V5cyBhbmQgZnVuY3Rpb24gdmFsdWVzLiBTdHJpbmcga2V5cyB3aWxsIGJlIHVzZWQgYnkgRXZhbHVhdGFibGUgRWxlbWVudHMKLy8gdG8gcGFzcyBpbnB1dHMgdG8gYW5kIHJlY2VpdmUgb3V0cHV0cyBmcm9tIHRoZSBmdW5jdGlvbnMuCi8vIAovLyBFYWNoIHNjcmlwdCBtYXkgZGVmaW5lIGFyYml0cmFyaWx5IG1hbnkgZnVuY3Rpb25zLCBzbyBsb25nIGFzIHRoZXkncmUgYWxsIGV4cG9zZWQgdmlhIGZ1bmNNYXAuCi8vIAovLyBGdW5jdGlvbiBpbnB1dHMgd2lsbCB0YWtlIHRoZSBmb3JtIG9mIGEgc2luZ2xlIGFycmF5IG9mIDxhbnk+IHZhbHVlcy4KLy8gRnVuY3Rpb25zIHNob3VsZCBsaWtld2lzZSByZXR1cm4gYW4gYXJyYXkgb2YgPGFueT4gdmFsdWVzLgovLyBNZWFuaW5nIGZvciBhcmd1bWVudHMgYW5kIHJldHVybiB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGVpciBvcmRlciBpbiB0aGUgYXJyYXku"
            }
        }
    ],
    "inputOutputValues": [
        {
            "meta": {
                "uuid": "df4928d5-9b26-4483-b317-89f4a8e04b43",
                "name": "Start"
            },
            "data": 1
        },
        {
            "meta": {
                "uuid": "e801d4a1-0914-4f52-8ac4-7cfe4eed79f1",
                "name": "End"
            },
            "data": 10
        },
        {
            "meta": {
                "uuid": "7f190f83-283b-42d1-86e8-779a2cb87999",
                "name": "Number of Options"
            },
            "data": 10
        },
        {
            "meta": {
                "uuid": "afbb6a38-ebf4-40de-b198-6a10eb763d5d",
                "name": "Selected"
            },
            "data": null
        },
        {
            "meta": {
                "uuid": "d98bd9f7-7dd2-4bcd-92a5-162e4e691a35",
                "name": "Selector Options"
            },
            "data": null
        },
        {
            "meta": {
                "uuid": "c472dd44-225f-4533-8ea4-aa3838a72881",
                "name": "Selected Squared"
            },
            "data": 0
        }
    ],
    "controls": [
        {
            "meta": {
                "uuid": "6a4bce68-7995-4136-99f0-2643f5cde613",
                "name": "Start of Number Options"
            },
            "inputOutputValues": [
                "df4928d5-9b26-4483-b317-89f4a8e04b43"
            ],
            "displays": [
                "9470d532-043d-4fd6-ade9-223adac532ec"
            ]
        },
        {
            "meta": {
                "uuid": "fa4ce815-64eb-4726-8f1c-0daf93139708",
                "name": "End of Number Options"
            },
            "inputOutputValues": [
                "e801d4a1-0914-4f52-8ac4-7cfe4eed79f1"
            ],
            "displays": [
                "b944e6c8-8ee9-4ac2-a68e-fd3571526ec8"
            ]
        },
        {
            "meta": {
                "uuid": "aa6a3f68-3aab-459a-912d-c349bce7cd26",
                "name": "Number of Options"
            },
            "inputOutputValues": [
                "7f190f83-283b-42d1-86e8-779a2cb87999"
            ],
            "displays": [
                "c21910b2-9884-4dbf-8da6-ad2c08626ff4"
            ]
        },
        {
            "meta": {
                "uuid": "7fa624a9-2f00-4312-b5b7-99e57e7ac97a",
                "name": "Number Options"
            },
            "inputOutputValues": [
                "afbb6a38-ebf4-40de-b198-6a10eb763d5d",
                "d98bd9f7-7dd2-4bcd-92a5-162e4e691a35"
            ],
            "displays": [
                "6a1a8e69-bc0f-4dc5-9900-8f2923994e02"
            ]
        },
        {
            "meta": {
                "uuid": "08e93c1b-424e-4a22-9dd7-9a904870b0dc",
                "name": "Squared Output"
            },
            "inputOutputValues": [
                "c472dd44-225f-4533-8ea4-aa3838a72881"
            ],
            "displays": [
                "8e2ded15-1fe7-4f1e-8fc3-434894999f65"
            ]
        }
    ]
}